= Module 6: Optional Features
:page-layout: module

== OpenShift Virtualization [[virtualization]]

=== Overview
OpenShift Virtualization enables you to run and manage virtual machines alongside containers in OpenShift.

=== Installation
* Install OpenShift Virtualization Operator
* Configure storage
* Enable virtualization features
* Verify installation

=== Features
* VM lifecycle management
* Live migration
* Storage management
* Network configuration
* Template management

=== Use Cases
* Legacy workload migration
* Mixed workload environments
* Development and testing
* Application modernization

=== Creating and using a VDDK image

You can download the VMware Virtual Disk Development Kit (VDDK), build a VDDK image, and push the VDDK image to your image registry. You then add the VDDK image to the `v2v-vmware` ConfigMap.

.Prerequisites

* You must have access to an OpenShift internal image registry or a secure external registry.

.Procedure

. Create and navigate to a temporary directory:
+
[source,terminal]
----
$ mkdir /tmp/<dir_name> && cd /tmp/<dir_name>
----

. In a browser, navigate to link:https://code.vmware.com/home[VMware code] and click *SDKs*.
. Under *Compute Virtualization*, click *Virtual Disk Development Kit (VDDK)*.
. Select the VDDK version that corresponds to your VMware vSphere version, for example, VDDK 7.0 for vSphere 7.0, click *Download*, and then save the VDDK archive in the temporary directory.

. Extract the VDDK archive:
+
[source,terminal]
----
$ tar -xzf VMware-vix-disklib-<version>.x86_64.tar.gz
----

. Create a `Dockerfile`:
+
[source,terminal]
----
$ cat > Dockerfile <<EOF
FROM registry.access.redhat.com/ubi8/ubi-minimal
USER 1001
COPY vmware-vix-disklib-distrib /vmware-vix-disklib-distrib
RUN mkdir -p /opt
ENTRYPOINT ["cp", "-r", "/vmware-vix-disklib-distrib", "/opt"]
EOF
----

. Create a new project for the image
+
[source,terminal]
----
$ oc new-project vddk
----

. Create a new image stream for the image
+ 
[source,terminal]
----
$ oc new-build . --name vddk
----

. Start the build
+
[source,terminal]
----
$ oc start-build vddk --from-dir .
----

. Verify the build
+
[source,terminal]
----
$ oc get build
NAME     TYPE     FROM     STATUS     STARTED          DURATION
vddk-3   Docker   Binary   Complete   22 minutes ago   25s
----

. Ensure that the image is accessible to your migration namespace. Replace openshift-mtv with the destination namespace if different.
+
[source,terminal]
----
$ oc policy add-role-to-user system:image-puller system:serviceaccount:openshift-mtv:default --namespace vddk
----

. Edit the `v2v-vmware` ConfigMap in the *openshift-cnv* project:
+
[source,terminal]
----
$ oc edit configmap v2v-vmware -n openshift-cnv
----

. Add the `vddk-init-image` parameter to the `data` stanza:
+
[source,yaml]
----
...
data:
  vddk-init-image: image-registry.openshift-image-registry.svc:5000/vddk/vddk
----

== OpenShift AI [[ai]]

=== Overview
OpenShift AI provides tools and services for running AI/ML workloads on OpenShift.

=== Installation
* Install OpenShift AI Operator
* Configure storage
* Set up model serving
* Configure pipelines

=== Features
* Model training
* Model serving
* Pipeline automation
* Experiment tracking
* Resource optimization

=== Use Cases
* Machine learning workflows
* Deep learning applications
* Model deployment
* AI infrastructure

== Best Practices
* Resource allocation
* Performance optimization
* Security considerations
* Monitoring and logging
* Backup and recovery

== Conclusion
Congratulations! You've completed the OpenShift 4.16+ Bare Metal Deployment Workshop. You now have the knowledge to:

* Deploy OpenShift on bare metal infrastructure
* Configure networking and storage
* Manage cluster operations
* Implement advanced features

For more information, refer to the following resources:

* link:https://docs.openshift.com/container-platform/4.16/[OpenShift 4.16 Documentation]
* link:https://docs.openshift.com/container-platform/4.17/[OpenShift 4.17 Documentation]
* link:https://www.openshift.com/solutions/data-foundation[OpenShift Data Foundation]
* link:https://www.redhat.com/en/technologies/cloud-computing/openshift/virtualization[OpenShift Virtualization]
